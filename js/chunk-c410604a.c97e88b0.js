(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c410604a"],{"0e3f":function(e,t,o){"use strict";var c=o("eca0");const a={class:"tk-form"},l={class:"header"},n={class:"footer"};var r=Object(c["defineComponent"])({__name:"form",props:{modelValue:{type:Object,required:!0},formItems:{type:Array,default:()=>[]},labelWidth:{type:String,default:"100px"},itemStyle:{type:Object,default:()=>({padding:"10px 40px"})},colLayout:{type:Object,default:()=>({xl:6,lg:8,md:12,sm:24,xs:24})}},emits:["update:modelValue"],setup(e,{emit:t}){const o=e,r=t,s=(e,t)=>{r("update:modelValue",{...o.modelValue,[t]:e})};return(t,o)=>{const r=Object(c["resolveComponent"])("el-input"),d=Object(c["resolveComponent"])("el-option"),i=Object(c["resolveComponent"])("el-select"),p=Object(c["resolveComponent"])("el-date-picker"),b=Object(c["resolveComponent"])("el-form-item"),u=Object(c["resolveComponent"])("el-col"),O=Object(c["resolveComponent"])("el-row"),j=Object(c["resolveComponent"])("el-form");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",a,[Object(c["createElementVNode"])("div",l,[Object(c["renderSlot"])(t.$slots,"header")]),Object(c["createVNode"])(j,{"label-width":e.labelWidth},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(O,null,{default:Object(c["withCtx"])(()=>[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(e.formItems,t=>(Object(c["openBlock"])(),Object(c["createBlock"])(u,Object(c["normalizeProps"])(Object(c["mergeProps"])({key:t.label},e.colLayout)),{default:Object(c["withCtx"])(()=>[t.isHidden?Object(c["createCommentVNode"])("",!0):(Object(c["openBlock"])(),Object(c["createBlock"])(b,{key:0,label:t.label,rules:t.rules,style:Object(c["normalizeStyle"])(e.itemStyle)},{default:Object(c["withCtx"])(()=>["input"===t.type||"password"===t.type?(Object(c["openBlock"])(),Object(c["createBlock"])(r,Object(c["mergeProps"])({key:0,placeholder:t.placeholder},t.otherOptions,{"show-password":"password"===t.type,"model-value":e.modelValue[""+t.field],"onUpdate:modelValue":e=>s(e,t.field)}),null,16,["placeholder","show-password","model-value","onUpdate:modelValue"])):"select"===t.type?(Object(c["openBlock"])(),Object(c["createBlock"])(i,Object(c["mergeProps"])({key:1,placeholder:t.placeholder},t.otherOptions,{style:{width:"100%"},"model-value":e.modelValue[""+t.field],"onUpdate:modelValue":e=>s(e,t.field)}),{default:Object(c["withCtx"])(()=>[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(t.options,e=>(Object(c["openBlock"])(),Object(c["createBlock"])(d,{key:e.value,value:e.value},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.title),1)]),_:2},1032,["value"]))),128))]),_:2},1040,["placeholder","model-value","onUpdate:modelValue"])):"datepicker"===t.type?(Object(c["openBlock"])(),Object(c["createBlock"])(p,Object(c["mergeProps"])({key:2,style:{width:"100%"}},t.otherOptions,{"model-value":e.modelValue[""+t.field],"onUpdate:modelValue":e=>s(e,t.field)}),null,16,["model-value","onUpdate:modelValue"])):Object(c["createCommentVNode"])("",!0)]),_:2},1032,["label","rules","style"]))]),_:2},1040))),128))]),_:1})]),_:1},8,["label-width"]),Object(c["createElementVNode"])("div",n,[Object(c["renderSlot"])(t.$slots,"footer")])])}}}),s=(o("9bd6"),o("33fb")),d=o.n(s);const i=d()(r,[["__scopeId","data-v-d90afc9a"]]);var p=i;t["a"]=p},"309c":function(e,t,o){"use strict";var c=o("eca0");const a={class:"tk-table"},l={class:"header"},n={class:"title"},r={class:"handler"},s={key:0,class:"footer"};var d=Object(c["defineComponent"])({__name:"table",props:{title:{type:String,default:""},listData:{type:Array,required:!0},listCount:{type:Number,default:0},propList:{type:Array,required:!0},showIndexColumn:{type:Boolean,default:!1},showSelectColumn:{type:Boolean,default:!1},page:{type:Object,default:()=>({currentPage:0,pageSize:10})},childrenProps:{type:Object,default:()=>({})},showFooter:{type:Boolean,default:!0}},emits:["selectChange","update:page"],setup(e,{emit:t}){const o=e,d=t,i=e=>{d("selectChange",e)},p=e=>{d("update:page",{...o.page,pageSize:e})},b=e=>{d("update:page",{...o.page,currentPage:e})};return(t,o)=>{const d=Object(c["resolveComponent"])("el-table-column"),u=Object(c["resolveComponent"])("el-table"),O=Object(c["resolveComponent"])("el-pagination");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",a,[Object(c["createElementVNode"])("div",l,[Object(c["renderSlot"])(t.$slots,"header",{},()=>[Object(c["createElementVNode"])("div",n,Object(c["toDisplayString"])(e.title),1),Object(c["createElementVNode"])("div",r,[Object(c["renderSlot"])(t.$slots,"headerHandler")])])]),Object(c["createVNode"])(u,Object(c["mergeProps"])({data:e.listData,border:"",style:{width:"100%"},onSelectionChange:i},e.childrenProps),{default:Object(c["withCtx"])(()=>[e.showSelectColumn?(Object(c["openBlock"])(),Object(c["createBlock"])(d,{key:0,type:"selection",align:"center"})):Object(c["createCommentVNode"])("",!0),e.showIndexColumn?(Object(c["openBlock"])(),Object(c["createBlock"])(d,{key:1,type:"index",label:"序号",align:"center",width:"60"})):Object(c["createCommentVNode"])("",!0),(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(e.propList,e=>(Object(c["openBlock"])(),Object(c["createBlock"])(d,Object(c["mergeProps"])({key:e.props},e,{align:"cneter","show-overflow-tooltip":""}),{default:Object(c["withCtx"])(o=>[Object(c["renderSlot"])(t.$slots,e.slotName,{row:o.row},()=>[Object(c["createTextVNode"])(Object(c["toDisplayString"])(o.row[e.prop]),1)])]),_:2},1040))),128))]),_:3},16,["data"]),e.showFooter?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",s,[Object(c["renderSlot"])(t.$slots,"footer",{},()=>[Object(c["createVNode"])(O,{onSizeChange:p,onCurrentChange:b,"current-page":e.page.currentPage,"page-sizes":[10,20,30],"page-size":e.page.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.listCount},null,8,["current-page","page-size","total"])])])):Object(c["createCommentVNode"])("",!0)])}}}),i=(o("3dcd"),o("33fb")),p=o.n(i);const b=p()(d,[["__scopeId","data-v-1c21027e"]]);var u=b,O=u,j=o("0613");function m(e,t){console.log("usepage",e);const o=Object(j["c"])(),c=o.state.login.permissions,a=`system:${e}:${t}`;return!!c.find(e=>e===a)}const f={class:"page-content"},g={class:"handle-btns"};var C=Object(c["defineComponent"])({__name:"page-content",props:{contentTableConfig:{type:Object,required:!0},pageName:{type:String,required:!0}},emits:["newBtnClick","editBtnClick"],setup(e,{expose:t,emit:o}){var a;const l=e,n=m(l.pageName,"create"),r=m(l.pageName,"update"),s=m(l.pageName,"delete"),d=m(l.pageName,"query");console.log("isCreate",n);const i=Object(c["ref"])({currentPage:1,pageSize:10});Object(c["watch"])(i,()=>{b()});const p=Object(j["c"])(),b=(e={})=>{d&&p.dispatch("system/getPageListAction",{pageName:l.pageName,queryInfo:{offset:(i.value.currentPage-1)*i.value.pageSize,size:i.value.pageSize,...e}})};t({getPageData:b}),b();const u=Object(c["computed"])(()=>p.getters["system/pageListData"](l.pageName)),C=Object(c["computed"])(()=>p.getters["system/pageListCount"](l.pageName)),h=null===(a=l.contentTableConfig)||void 0===a?void 0:a.propList.filter(e=>{switch(e.slotName){case"status":return!1;case"createAt":return!1;case"updateAt":return!1;case"handler":return!1}return!0}),v=e=>{console.log(e),p.dispatch("system/deletePageDataAction",{pageName:l.pageName,id:e.id})},y=o,k=()=>{y("newBtnClick")},w=e=>{y("editBtnClick",e)};return(t,o)=>{const a=Object(c["resolveComponent"])("el-button");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",f,[Object(c["createVNode"])(Object(c["unref"])(O),Object(c["mergeProps"])({listData:u.value,listCount:C.value},e.contentTableConfig,{page:i.value,"onUpdate:page":o[0]||(o[0]=e=>i.value=e)}),Object(c["createSlots"])({headerHandler:Object(c["withCtx"])(()=>[Object(c["unref"])(n)?(Object(c["openBlock"])(),Object(c["createBlock"])(a,{key:0,type:"primary",size:"medium",onClick:k},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])("新建用户")]),_:1})):Object(c["createCommentVNode"])("",!0)]),status:Object(c["withCtx"])(e=>[Object(c["createVNode"])(a,{size:"mini",plain:"",type:e.row.enable?"success":"danger"},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.row.enable?"启用":"禁用"),1)]),_:2},1032,["type"])]),createAt:Object(c["withCtx"])(e=>[Object(c["createElementVNode"])("strong",null,Object(c["toDisplayString"])(t.$fliters.formatTime(e.row.createAt)),1)]),updateAt:Object(c["withCtx"])(e=>[Object(c["createElementVNode"])("strong",null,Object(c["toDisplayString"])(t.$fliters.formatTime(e.row.updateAt)),1)]),handler:Object(c["withCtx"])(e=>[Object(c["createElementVNode"])("div",g,[Object(c["unref"])(r)?(Object(c["openBlock"])(),Object(c["createBlock"])(a,{key:0,icon:"el-icon-edit",size:"mini",type:"text",onClick:t=>w(e.row)},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])("编辑")]),_:2},1032,["onClick"])):Object(c["createCommentVNode"])("",!0),Object(c["unref"])(s)?(Object(c["openBlock"])(),Object(c["createBlock"])(a,{key:1,icon:"el-icon-delete",size:"mini",type:"text",onClick:t=>v(e.row)},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])("删除")]),_:2},1032,["onClick"])):Object(c["createCommentVNode"])("",!0)])]),_:2},[Object(c["renderList"])(Object(c["unref"])(h),e=>({name:e.slotName,fn:Object(c["withCtx"])(o=>[e.slotName?Object(c["renderSlot"])(t.$slots,e.slotName,{key:0,row:o.row}):Object(c["createCommentVNode"])("",!0)])}))]),1040,["listData","listCount","page"])])}}});o("9655");const h=p()(C,[["__scopeId","data-v-7921bb48"]]);t["a"]=h},"33fb":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=(e,t)=>{const o=e.__vccOpts||e;for(const[c,a]of t)o[c]=a;return o}},"3c9b":function(e,t,o){"use strict";o("d8ab")},"3dcd":function(e,t,o){"use strict";o("824d")},"6a85":function(e,t,o){"use strict";o.d(t,"a",(function(){return a}));var c=o("eca0");function a(e,t){const o=Object(c["ref"])(),a=Object(c["ref"])({}),l=()=>{a.value={},o.value&&(o.value.centerDialogVisible=!0),e&&e()},n=e=>{a.value={...e},o.value&&(o.value.centerDialogVisible=!0),t&&t(e)};return[o,a,n,l]}},7993:function(e,t,o){},"824d":function(e,t,o){},9655:function(e,t,o){"use strict";o("7993")},"98dc":function(e,t,o){},"9bd6":function(e,t,o){"use strict";o("98dc")},"9d1a":function(e,t,o){"use strict";var c=o("eca0"),a=o("0e3f"),l=o("0613");const n={class:"dialog-footer"};var r=Object(c["defineComponent"])({__name:"page-modal",props:{modalTableConfig:{type:Object,required:!0},defaultInfo:{type:Object,default:()=>({})},otherInfo:{type:Object,default:()=>({})},pageName:{type:String,required:!0}},setup(e,{expose:t}){const o=e,r=Object(c["ref"])(!1),s=Object(c["ref"])({});t({formData:s,centerDialogVisible:r}),Object(c["watch"])(()=>o.defaultInfo,e=>{for(const t of o.modalTableConfig.formItems)s.value[t.field]=e[t.field]});const d=Object(l["c"])(),i=()=>{r.value=!0,Object.keys(o.defaultInfo).length?d.dispatch("system/editPageDataAction",{pageName:o.pageName,editData:{...s.value,...o.otherInfo},id:o.defaultInfo.id}):d.dispatch("system/createPageDataAction",{pageName:o.pageName,newData:{...s.value,...o.otherInfo}})};return(t,o)=>{const l=Object(c["resolveComponent"])("el-button"),d=Object(c["resolveComponent"])("el-dialog");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",null,[Object(c["createVNode"])(d,{title:"新建用户",modelValue:r.value,"onUpdate:modelValue":o[2]||(o[2]=e=>r.value=e),width:"30%",center:"","destroy-on-close":""},{footer:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("span",n,[Object(c["createVNode"])(l,{onClick:o[1]||(o[1]=e=>r.value=!1)},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])("取消")]),_:1}),Object(c["createVNode"])(l,{type:"primary",onClick:i},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])("确定")]),_:1})])]),default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(Object(c["unref"])(a["a"]),Object(c["mergeProps"])(e.modalTableConfig,{"model-value":s.value,"onUpdate:modelValue":o[0]||(o[0]=e=>s.value=e)}),null,16,["model-value"]),Object(c["renderSlot"])(t.$slots,"default")]),_:3},8,["modelValue"])])}}});const s=r;var d=s;t["a"]=d},d8ab:function(e,t,o){},fae0:function(e,t,o){"use strict";var c=o("eca0"),a=o("0e3f");const l=e=>(Object(c["pushScopeId"])("data-v-412a4281"),e=e(),Object(c["popScopeId"])(),e),n={class:"page-search"},r=l(()=>Object(c["createElementVNode"])("h1",{class:"header"},"高级检索",-1)),s={class:"handle-btns"};var d=Object(c["defineComponent"])({__name:"page-search",props:{searchFormConfig:{type:Object,required:!0}},emits:["resetBtnClick","queryBtnClick"],setup(e,{emit:t}){var o;const l=e,d=t,i=null!==(o=l.searchFormConfig.formItems)&&void 0!==o?o:[],p={};for(const c of i)p[c.field]="";console.log(p);const b=Object(c["ref"])(p),u=()=>{b.value=p,d("resetBtnClick")},O=()=>{d("queryBtnClick",b.value)};return(t,o)=>{const l=Object(c["resolveComponent"])("el-button");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",n,[Object(c["createVNode"])(Object(c["unref"])(a["a"]),Object(c["mergeProps"])(e.searchFormConfig,{modelValue:b.value,"onUpdate:modelValue":o[0]||(o[0]=e=>b.value=e)}),{header:Object(c["withCtx"])(()=>[r]),footer:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("div",s,[Object(c["createVNode"])(l,{icon:"el-icon-refresh",onClick:u},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])("重置")]),_:1}),Object(c["createVNode"])(l,{type:"primary",icon:"el-icon-search",onClick:O},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])("搜索")]),_:1})])]),_:1},16,["modelValue"])])}}}),i=(o("3c9b"),o("33fb")),p=o.n(i);const b=p()(d,[["__scopeId","data-v-412a4281"]]);t["a"]=b}}]);
//# sourceMappingURL=chunk-c410604a.c97e88b0.js.map