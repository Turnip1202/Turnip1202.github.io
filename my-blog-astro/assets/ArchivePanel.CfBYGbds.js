import{b as createAstro,c as createComponent,r as renderTemplate,m as maybeRenderHead,d as addAttribute}from"./astro/server.BJ5FQhcg.js";import{U as UNCATEGORIZED,g as getPostUrlBySlug}from"./MainGridLayout.Bf7KtL4Q.js";import{a as getSortedPosts,i as i18n,I as I18nKey}from"./content-utils.BXBaNoMz.js";const $$Astro=createAstro("https://turnip1202.github.io"),$$ArchivePanel=createComponent((async(t,e,a)=>{const r=t.createAstro($$Astro,e,a);r.self=$$ArchivePanel;const{keyword:o,tags:s,categories:i}=r.props;let l=await getSortedPosts();Array.isArray(s)&&s.length>0&&(l=l.filter((t=>Array.isArray(t.data.tags)&&t.data.tags.some((t=>s.includes(t)))))),Array.isArray(i)&&i.length>0&&(l=l.filter((t=>t.data.category&&i.includes(t.data.category)||!t.data.category&&i.includes(UNCATEGORIZED))));const d=(()=>{const t=l.reduce(((t,e)=>{const a=e.data.published.getFullYear();return t[a]||(t[a]=[]),t[a].push(e),t}),{}),e=Object.keys(t).map((e=>({year:Number.parseInt(e),posts:t[Number.parseInt(e)]})));return e.sort(((t,e)=>e.year-t.year)),e})();return renderTemplate`${maybeRenderHead()}<div class="card-base px-8 py-6"> ${d.map((t=>renderTemplate`<div> <div class="flex flex-row w-full items-center h-[3.75rem]"> <div class="w-[15%] md:w-[10%] transition text-2xl font-bold text-right text-75">${t.year}</div> <div class="w-[15%] md:w-[10%]"> <div class="h-3 w-3 bg-none rounded-full outline outline-[var(--primary)] mx-auto -outline-offset-[2px] z-50 outline-3"></div> </div> <div class="w-[70%] md:w-[80%] transition text-left text-50">${t.posts.length} ${i18n(I18nKey.postsCount)}</div> </div> ${t.posts.map((t=>{return renderTemplate`<a${addAttribute(getPostUrlBySlug(t.slug),"href")}${addAttribute(t.data.title,"aria-label")} class="group btn-plain !block h-10 w-full rounded-lg hover:text-[initial]"> <div class="flex flex-row justify-start items-center h-full"> <!-- date --> <div class="w-[15%] md:w-[10%] transition text-sm text-right text-50"> ${a=t.data.published,`${(a.getMonth()+1).toString().padStart(2,"0")}-${a.getDate().toString().padStart(2,"0")}`} </div> <!-- dot and line --> <div class="w-[15%] md:w-[10%] relative dash-line h-full flex items-center"> <div class="transition-all mx-auto w-1 h-1 rounded group-hover:h-5
                                bg-[oklch(0.5_0.05_var(--hue))] group-hover:bg-[var(--primary)]
                                outline outline-4 z-50
                                outline-[var(--card-bg)]
                                group-hover:outline-[var(--btn-plain-bg-hover)]
                                group-active:outline-[var(--btn-plain-bg-active)]
                                "></div> </div> <!-- post title --> <div class="w-[70%] md:max-w-[65%] md:w-[65%] text-left font-bold
                                group-hover:translate-x-1 transition-all group-hover:text-[var(--primary)]
                                text-75 pr-8 whitespace-nowrap overflow-ellipsis overflow-hidden"> ${t.data.title} </div> <!-- tag list --> <div class="hidden md:block md:w-[15%] text-left text-sm transition
                            whitespace-nowrap overflow-ellipsis overflow-hidden
                            text-30">${e=t.data.tags,e.map((t=>`#${t}`)).join(" ")}</div> </div> </a>`;var e,a}))} </div>`))} </div>`}),"D:/ACode/A_Code/Project/v1/BlogGitPage/my-blog-app/src/components/ArchivePanel.astro",void 0),$$file="D:/ACode/A_Code/Project/v1/BlogGitPage/my-blog-app/src/components/ArchivePanel.astro",$$url=void 0;export{$$ArchivePanel as default,$$file as file,$$url as url};